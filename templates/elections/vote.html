{% extends "elections/elections-base.html" %}

{% block content %}
<div class="col-md-12">

<div class="jumbotron">
  <h1>Student Body Elections</h1>
  <p class="lead">Where you get to choose who represents you.</p>
</div>

<h2>Vote</h2>
<p>Rank candidates such that "1" indicates your highest preference, “2” your second-highest, etc.</p>

<p><strong>You do not have to rank every candidate.</stong> Only rank candidates you want to see in office.</p>

<!--<p>Ranking candidates, voting quorum, and voting no quorum are mutually exclusive; </strong>you can only do one of the three.</strong> Voting quorum indicates that you support the outcome of the election but do not support any of the candidates. Voting no quorum indicates that you do not support the outcome of the election and want another election to be held.</p>-->

<p>You may also write in candidates who are not on the ballot using their Reed username (what appears before the @ in their email address; you can look this up in <a href="https://iris.reed.edu/campusdirectory.taf" target="_blank">IRIS</a>).</p>

<p>Candidates for different offices are elected separately.</p>




<fieldset id="vote-fieldset">
<form class="submit-vote-form" 
      method="post" 
      action="/webapps/elections/submit_vote/{{ election.id }}"
      onsubmit="return false;">

{% for election in open_elections %}
<h3>{{ election.position }}</h3>


<table id="candidateTable" class="table table-responsive">

{% if election.quorumOption %}
<tr>
Quorum Options: 
<input type="radio" name="quorum-{{election.id}}" value="vote" checked="checked"/>Vote
<input type="radio" name="quorum-{{election.id}}" value="quorum"/>Quorum, no votes
<input type="radio" name="quorum-{{election.id}}" value="noquorum"/>No Quorum
</tr>
{% endif %}

  <tr>
    <td> Your Rank </td>
    <td> Candidate Name </td>
    <td style="visibility:hidden;"> Candidate Username </td>
  </tr>
  {% for candidate in election.candidate_set.all %}
  <tr class="vote_info">
    <td>
      <input class="vote_rank"
	     id="{{candidate.name}}"
	     type="number" 
	     min="1"
	     max="{{election.candidate_set|length|add:1}}" />
    </td>
    <td class="cand_name"> {{candidate.name}} </td>
    <!-- hide the following? -->
    <td style="visibility: hidden;"> 
      <input class="vote_candidate" 
	     type="text" 
	     value="{{candidate.name}}" />
    </td>
  </tr>
  {% endfor %}
  <tr id="writein">
    <td>
      <input class="vote_rank"
	     id="writeinRank" 
	     type="number"
	     min="1"
	     max="{{election.candidate_set|length|add:1}}" />
    </td>
    <td> 
      <input id="writeinUser"> &#8592; Reed username of write-in candidate<br>
    </td>
  </tr>
</table>

<p style="color: red"> {{ validate_error }} </p>


{% endfor %}




</form>
</fieldset>





</div>

{% endblock %}
